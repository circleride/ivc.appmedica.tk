<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <title>IVC</title>
<script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>

    </head>
<body>

        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
<script src="js/demo_back.js"></script>


<div class="push_notif_log">push_notif_log</div>
<hr>


      <script>
        log('App started: ' + new Date());
        document.addEventListener('deviceready', function() {
          log('deviceready. resumeType=' + cordova.backgroundapp.resumeType);
          initCallbacks();
          // Don't bother drawing UI when running in the background.
          if (cordova.backgroundapp.resumeType == 'launch') {
            renderUi('initial launch');
          } else { // resumeType == ''
            log('Running in the background!');
          }
        });
        document.addEventListener('resume', function() {
          log('resume event. resumeType=' + cordova.backgroundapp.resumeType);
          if (cordova.backgroundapp.resumeType == 'normal-launch') {
            renderUi('user launch when backgrounded');
          }
        });
      </script>
      Things to try:
      <ul>
        <li>Create a notification, swipe the app away, click notification.
        <li>Dismiss the notification (starts the app in background), launch the app
        <li>Set an alarm, swipe the app away, click the notification
      </ul>
      <button onclick="createNotification('created from button')">Show test notification</button>
      <br>
      <br>
      <button onclick="createAlarm(5)">Show notification after 5 seconds</button>
      <div>Logs:</div>
      <div style="white-space:pre; font-size:9pt; background: #333;" id="logs"></div>

        <script type="text/javascript">
            app.initialize();
        </script>
    </body>
</html>
